

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. DldProcessor class (DldProcessor) &mdash; hextof-processor 0.9.5 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="hextof-processor 0.9.5 documentation" href="../index.html"/>
        <link rel="next" title="3. Interfacing external pah library" href="pah.html"/>
        <link rel="prev" title="1. Dataframe creator class (DldFlashDataframeCreator)" href="DldFlashDataframeCreator.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> hextof-processor
          

          
          </a>

          
            
            
              <div class="version">
                0.9.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Processor library</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="DldFlashDataframeCreator.html">1. Dataframe creator class (DldFlashDataframeCreator)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. DldProcessor class (DldProcessor)</a></li>
<li class="toctree-l1"><a class="reference internal" href="pah.html">3. Interfacing external pah library</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">4. Utility functions (utils)</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../example/readdaq.html">1. Read DAQ data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/parquet.html">2. Save dataset to dask parquet files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/binning.html">3. Binning multidimensional data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/nobinning.html">4. Processing data without binning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/corrections.html">5. Corrections to FEL pulse timing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/fullexample.html">6. Complete code examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/listofterms.html">1. List of terms and abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/howtomaintain.html">2. Package maintenance</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">hextof-processor</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>2. DldProcessor class (DldProcessor)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/library/DldProcessor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-processor.DldProcessor">
<span id="dldprocessor-class-dldprocessor"></span><h1>2. DldProcessor class (DldProcessor)<a class="headerlink" href="#module-processor.DldProcessor" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="processor.DldProcessor.DldProcessor">
<em class="property">class </em><code class="descclassname">processor.DldProcessor.</code><code class="descname">DldProcessor</code><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class simplifies the analysis of data files recorded during the
beamtime of August 2017. It converts the electrons from the DLD into
a clean table and uses DASK for binning and further analysis.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Attributes (loaded from SETTINGS.ini):</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><dl class="first last docutils">
<dt>N_CORES <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The number of available CPU cores to use.</p>
</dd>
<dt>CHUNK_SIZE <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Size of the chunks in which a parquet file will be divided.</p>
</dd>
<dt>TOF_STEP_NS <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The step size in ns of the dldTime. Used to convert the
step number to the ToF time in the delay line detector.</p>
</dd>
<dt>TOF_STEP_EV <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The step size in eV of the dldTime. Used to convert the
step number to energy of the photoemitted electrons.</p>
</dd>
<dt>DATA_RAW_DIR <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Path to raw data hdf5 files output by FLASH</p>
</dd>
<dt>DATA_PARQUET_DIR <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Path to where parquet files are stored.</p>
</dd>
<dt>DATA_H5_DIR <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Path to where hdf5 files containing binned data are stored.</p>
</dd>
<dt>DATA_RESULTS_DIR <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Path to default saving location for results in np.array,
tiff stack formats etc.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.addBinning">
<code class="descname">addBinning</code><span class="sig-paren">(</span><em>name</em>, <em>start</em>, <em>end</em>, <em>steps</em>, <em>useStepSize=True</em>, <em>forceEnds=False</em>, <em>include_last=True</em>, <em>force_legacy=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.addBinning"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.addBinning" title="Permalink to this definition">¶</a></dt>
<dd><p>Add binning of one dimension, to be then computed with <code class="docutils literal"><span class="pre">computeBinnedData</span></code> method.</p>
<p>Creates a list of bin names, (binNameList) to identify the axis on
which to bin the data. Output array dimensions order will be the same
as in this list. The attribute binRangeList will contain the ranges of
the binning used for the corresponding dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Name of the column to apply binning to. Possible column names are`:`
posX, posY, dldTime, pumpProbeTime, dldDetector, etc.</p>
</dd>
<dt>start <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Position of first bin</p>
</dd>
<dt>end <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Position of last bin (not included!)</p>
</dd>
<dt>steps <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">The bin size, if useStepSize=True (default),
this is the step size, while if useStepSize=False, then this is the
number of bins. In Legacy mode (force_legacy=True, or
processor._LEGACY_MODE=True)</p>
</dd>
<dt>useStepSize <span class="classifier-delimiter">:</span> <span class="classifier">bool | True</span></dt>
<dd><p class="first">Tells Python how to interpret steps.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">True:</th><td class="field-body">interpret steps as a step size.</td>
</tr>
<tr class="field-even field"><th class="field-name">False:</th><td class="field-body">interpret steps as the number of steps.</td>
</tr>
</tbody>
</table>
</dd>
<dt>forceEnds <span class="classifier-delimiter">:</span> <span class="classifier">bool | False</span></dt>
<dd><p class="first last">Tells python to give priority to the end parameter
rather than the step parameter (see genBins for more info)</p>
</dd>
<dt>include_last <span class="classifier-delimiter">:</span> <span class="classifier">bool | True</span></dt>
<dd><p class="first last">Closes the interval on the right when true. If
using step size priority, will expand the interval to include
the next value when true, will shrink the interval to contain all
points within the bounds if false.</p>
</dd>
<dt>force_legacy <span class="classifier-delimiter">:</span> <span class="classifier">bool | False</span></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">True:</th><td class="field-body">use np.arange method to generate bins.</td>
</tr>
<tr class="field-even field"><th class="field-name">False:</th><td class="field-body">use np.linspace method to generate bins.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return:</th><td class="field-body"><dl class="first docutils">
<dt>axes <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">axis of the binned dimesion. The points defined on this axis are the middle points of
each bin.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Note:</th><td class="field-body"><p class="first last">If the name is 'pumpProbeTime': sets self.delaystageHistogram for normalization.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="docutils literal"><span class="pre">computeBinnedData</span></code> Method to compute all bins created with this function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.addFilter">
<code class="descname">addFilter</code><span class="sig-paren">(</span><em>colname</em>, <em>lb=None</em>, <em>ub=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.addFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.addFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters the dataframes contained in the processor instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>colname <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">name of the column in the dask dataframes</p>
</dd>
<dt>lb <span class="classifier-delimiter">:</span> <span class="classifier">float64 | None</span></dt>
<dd><p class="first last">lower bound of the filter</p>
</dd>
<dt>ub <span class="classifier-delimiter">:</span> <span class="classifier">float64 | None</span></dt>
<dd><p class="first last">upper bound of the filter</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Effect:</th><td class="field-body"><p class="first last">Filters the columns of <code class="docutils literal"><span class="pre">dd</span></code> and <code class="docutils literal"><span class="pre">ddMicrobunches</span></code> dataframes in place.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.appendDataframeParquet">
<code class="descname">appendDataframeParquet</code><span class="sig-paren">(</span><em>fileName</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.appendDataframeParquet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.appendDataframeParquet" title="Permalink to this definition">¶</a></dt>
<dd><p>Append data to an existing dask Parquet dataframe.</p>
<p>This can be used to concatenate multiple DAQ runs in one dataframe.
Data is taken from the dd and dd_microbunch dataframe attributes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameter:</th><td class="field-body"><dl class="first last docutils">
<dt>fileName <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">name (including path) of the folder containing the
parquet files to append the new data.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.computeBinnedData">
<code class="descname">computeBinnedData</code><span class="sig-paren">(</span><em>saveName=None</em>, <em>savePath=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.computeBinnedData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.computeBinnedData" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the bin list to bin the data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>saveName <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">filename</p>
</dd>
<dt>savePath <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">file path</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first docutils">
<dt>result <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">A numpy array of float64 values. Number of bins defined will define the
dimensions of such array.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Notes:</th><td class="field-body"><p class="first last">postProcess method must be used before computing the binned data if binning
along pumpProbeDelay or polar k-space coordinates.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.computeBinnedDataMulti">
<code class="descname">computeBinnedDataMulti</code><span class="sig-paren">(</span><em>saveName=None</em>, <em>savePath=None</em>, <em>rank=None</em>, <em>size=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.computeBinnedDataMulti"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.computeBinnedDataMulti" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the bin list to bin the data. Cluster-compatible version (Maciej Dendzik)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>saveName <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">filename</p>
</dd>
<dt>savePath <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">file path</p>
</dd>
<dt>rank <span class="classifier-delimiter">:</span> <span class="classifier">int | None</span></dt>
<dd><p class="first last">Rank number of cluster computer</p>
</dd>
<dt>size <span class="classifier-delimiter">:</span> <span class="classifier">int | None</span></dt>
<dd><p class="first last">Size of partition</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return:</th><td class="field-body"><dl class="first docutils">
<dt>result <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">A numpy array of float64 values. The number of bins determines the
dimensionality of the output array.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Notes:</th><td class="field-body"><p class="first last">postProcess method must be used before computing the binned data if binning
is applied along pumpProbeDelay or polar k-space coordinates.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.correctBAM">
<code class="descname">correctBAM</code><span class="sig-paren">(</span><em>sign=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.correctBAM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.correctBAM" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct pump probe time by BAM (beam arrival monitor) data.</p>
<p>Corrects the pulse to pulse jitter, and changes name from
delayStageTime to pumpProbeTime. BAM correction shifts the time delay
by a constant value.</p>
<p><code class="docutils literal"><span class="pre">/!\</span></code> BAM correction is tricky and will mess up the delay histogram.
This is because of strong correlation with the microbunch ID of both the
BAM value and the photoemission yield, i.e. photons at the end of a
macrobunch give more photoelectrons while becoming systematically
shifted in time.</p>
<p>Default value is 1 since the BAM measures the delay between the master
clock start and the arrival of the beam.</p>
<p>On the other hand, more positive delay stage values are for when the FEL
arrives earlier (FEL before pump is on the more positive side of t0).
A bigger delay in beam arrival for an FEL pulse means that the photoelectrons
actually had a more negative delay (probe later than pump) than what the delay stage
measured, and should therefore be moved to more negative values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameter:</th><td class="field-body"><dl class="first last docutils">
<dt>sign <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first">Sign multiplier for BAM correction. Avoid using -1 unless debugging.</p>
<table border="1" class="last docutils">
<colgroup>
<col width="16%" />
<col width="84%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Operation</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>no correction</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>pumpProbeTime = delayStage - bam</td>
</tr>
<tr class="row-even"><td>-1</td>
<td>pumpProbeTime = delayStage + bam</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.createPolarCoordinates">
<code class="descname">createPolarCoordinates</code><span class="sig-paren">(</span><em>kCenter=(250</em>, <em>250)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.createPolarCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.createPolarCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate polar coordinates for k-space values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameter:</th><td class="field-body"><dl class="first last docutils">
<dt>kCenter <span class="classifier-delimiter">:</span> <span class="classifier">(int,int) | (250, 250)</span></dt>
<dd><p class="first last">Pixel position of the k-space center in the DLD array</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.deleteBinners">
<code class="descname">deleteBinners</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.deleteBinners"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.deleteBinners" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>[DEPRECATED]</strong> use resetBins() instead</p>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.genBins">
<code class="descname">genBins</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>steps</em>, <em>useStepSize=True</em>, <em>forceEnds=False</em>, <em>include_last=True</em>, <em>force_legacy=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.genBins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.genBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates bins for use by binning functions.
Can also be used to generate x axes.</p>
<p>Binning is created using np.linspace (formerly was done with np.arange).
The implementation allows to choose between setting a step size
(useStepSize=True, default) or using a number of bins (useStepSize=False).</p>
<p>In general, it is not possible to satisfy all 3 parameters: start, end, steps.
For this reason, you can choose to give priority to the step size or to the
interval size. In case forceEnds=False, the steps parameter is given
priority and the end parameter is redefined, so the interval can actually
be larger than expected. In case forceEnds = true, the stepSize is not
enforced, and the interval is divided by the closest step that divides it
cleanly. This of course only has meaning when choosing steps that do not
cleanly divide the interval.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>start <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Position of first bin</p>
</dd>
<dt>end <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Position of last bin (not included!)</p>
</dd>
<dt>steps <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">Define the bin size. If useStepSize=True (default),
this is the step size, while if useStepSize=False, then this is the
number of bins. In Legacy mode (force_legacy=True, or
processor._LEGACY_MODE=True)</p>
</dd>
<dt>useStepSize <span class="classifier-delimiter">:</span> <span class="classifier">bool | True</span></dt>
<dd><p class="first last">Tells python to interpret steps as a step size if
True, or as the number of steps if False</p>
</dd>
<dt>forceEnds <span class="classifier-delimiter">:</span> <span class="classifier">bool | False</span></dt>
<dd><p class="first last">Tells python to give priority to the end parameter
rather than the step parameter (see above for more info)</p>
</dd>
<dt>include_last <span class="classifier-delimiter">:</span> <span class="classifier">bool | True</span></dt>
<dd><p class="first last">Closes the interval on the right when true. If
using step size priority, will expand the interval to include
the next value when true, will shrink the interval to contain all
points within the bounds if false.</p>
</dd>
<dt>force_legacy <span class="classifier-delimiter">:</span> <span class="classifier">bool | False</span></dt>
<dd><p class="first last">If true, imposes old method for generating bins,
based on np.arange instead of np.inspace.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.initAttributes">
<code class="descname">initAttributes</code><span class="sig-paren">(</span><em>import_all=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.initAttributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.initAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse settings file and assign the variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first">import_all : bool | False</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">True:</th><td class="field-body">imports all entries in SETTINGS.ini from the sections [processor] and [paths].</td>
</tr>
<tr class="field-even field"><th class="field-name">False:</th><td class="field-body">only imports those that match existing attribute names.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p class="last">Here <code class="docutils literal"><span class="pre">False</span></code> is the better choice, since it keeps better track of attributes.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.load_binned">
<code class="descname">load_binned</code><span class="sig-paren">(</span><em>namestr</em>, <em>path=None</em>, <em>mode='r'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.load_binned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.load_binned" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an HDF5 file saved with <code class="docutils literal"><span class="pre">save_binned()</span></code> method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>namestr <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Extra namestring tag in the filename.</p>
</dd>
<dt>path <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">File path.</p>
</dd>
<dt>mode <span class="classifier-delimiter">:</span> <span class="classifier">str | 'r'</span></dt>
<dd><p class="first last">Read mode of h5 file ('r' = read).</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">Multidimensional data read from h5 file.</p>
</dd>
<dt>axes <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">The axes values associated with the read data.</p>
</dd>
<dt>hist <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">Histogram values associated with the read data.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.normalizePumpProbeTime">
<code class="descname">normalizePumpProbeTime</code><span class="sig-paren">(</span><em>data_array</em>, <em>ax='pumpProbeTime'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.normalizePumpProbeTime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.normalizePumpProbeTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalizes the data array to the number of counts per delay stage step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameter:</th><td class="field-body"><dl class="first docutils">
<dt>data_array <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">data array containing binned data, as created by the <code class="docutils literal"><span class="pre">computeBinnedData</span></code> method.</p>
</dd>
<dt>ax <span class="classifier-delimiter">:</span> <span class="classifier">str | 'pumpProbeTime'</span></dt>
<dd><p class="first last">axis name</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first">Throw a ValueError when no pump probe time delay axis is available.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return:</th><td class="field-body"><dl class="first last docutils">
<dt>data_array_normalized <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">normalized version of the input array.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.postProcess">
<code class="descname">postProcess</code><span class="sig-paren">(</span><em>bamCorrectionSign=0</em>, <em>kCenter=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.postProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.postProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply corrections to the dataframe.</p>
<p>Runs the methods to post-process the dataframe. Includes BAM sign
correction and polar coordinates axes generation.</p>
<p><code class="docutils literal"><span class="pre">/!\</span></code> BAM correction is tricky and will mess up the delay histogram.
This is because of strong correlation with microbunch ID of both the
BAM value and the photoemission yield, i.e. photons at the end of a
macrobunch give more photoelectrons while being systematically
shifted in time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>bamCorrectionSign <span class="classifier-delimiter">:</span> <span class="classifier">int | 0</span></dt>
<dd><p class="first last">Sign of to the BAM correction.
Use None to have no correction and no name change.
See <code class="docutils literal"><span class="pre">correctBAM</span></code> for details.</p>
</dd>
<dt>kCenter <span class="classifier-delimiter">:</span> <span class="classifier">(int, int) | None</span></dt>
<dd><p class="first last">position of the center of k-space in the DLD detector array.
If set to None, no polar coordinates are added.
See createPolarCoordinates for details.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.readDataframes">
<code class="descname">readDataframes</code><span class="sig-paren">(</span><em>fileName=None</em>, <em>path=None</em>, <em>format='parquet'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.readDataframes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.readDataframes" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from a parquet or HDF5 dataframe.</p>
<p>Access the data as hdf5 file (this is the format used internally,
NOT the FLASH HDF5 files obtained from the DAQ system!)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>fileName <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">Shared namestring of data file.</p>
</dd>
<dt>path <span class="classifier-delimiter">:</span> <span class="classifier">str | None (default to <code class="docutils literal"><span class="pre">self.DATA_PARQUET_DIR</span></code> or <code class="docutils literal"><span class="pre">self.DATA_H5_DIR</span></code>)</span></dt>
<dd><p class="first last">name of the filepath (down to the lowest-level folder)</p>
</dd>
<dt>format <span class="classifier-delimiter">:</span> <span class="classifier">str | 'parquet'</span></dt>
<dd><p class="first last">file format, 'parquet' (parquet file), 'h5' or 'hdf5' (hdf5 file).</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.readDataframesParquet">
<code class="descname">readDataframesParquet</code><span class="sig-paren">(</span><em>fileName=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.readDataframesParquet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.readDataframesParquet" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>[DEPRECATED]</strong> Load data from a dask Parquet dataframe.
Use readDataframesParquet instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameter:</th><td class="field-body"><dl class="first last docutils">
<dt>fileName <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">name (including path) of the folder containing
parquet files where the data was saved.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.read_h5">
<code class="descname">read_h5</code><span class="sig-paren">(</span><em>h5FilePath</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.read_h5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.read_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>resad the h5 file at given path and return the contained data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>h5FilePaht <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Path to the h5 file to read.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>result <span class="classifier-delimiter">:</span> <span class="classifier">np.ndarray</span></dt>
<dd><p class="first last">array containing binned data</p>
</dd>
<dt>axes <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd><p class="first last">dictionary with axes data labeled by axes name</p>
</dd>
<dt>histogram <span class="classifier-delimiter">:</span> <span class="classifier">np.array</span></dt>
<dd><p class="first last">array of time normalization data.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.resetBins">
<code class="descname">resetBins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.resetBins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.resetBins" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the bin list</p>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.save2hdf5">
<code class="descname">save2hdf5</code><span class="sig-paren">(</span><em>binnedData</em>, <em>path=None</em>, <em>filename='default.hdf5'</em>, <em>normalizedData=None</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.save2hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.save2hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>[DEPRECATED]</strong> Store the binned data in a hdf5 file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt>binneddata <span class="classifier-delimiter">:</span> <span class="classifier">pd.DataFrame</span></dt>
<dd><p class="first last">binned data with bins in dldTime, posX, and posY (and if to be
normalized, binned in detectors).</p>
</dd>
<dt>filename <span class="classifier-delimiter">:</span> <span class="classifier">str | 'default.hdf5'</span></dt>
<dd><p class="first last">name of the file.</p>
</dd>
<dt>path <span class="classifier-delimiter">:</span> <span class="classifier">str | None | None</span></dt>
<dd><p class="first last">path to the location where to save the hdf5 file. If <cite>None</cite>, uses the default value
defined in SETTINGS.ini</p>
</dd>
<dt>normalizedData <span class="classifier-delimiter">:</span> <span class="classifier">bool | None</span></dt>
<dd><p class="first last">Normalized data for both detector, so it should be a 3D array
(posX, posY, detectorID).</p>
</dd>
<dt>overwrite <span class="classifier-delimiter">:</span> <span class="classifier">bool | False</span></dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">True:</th><td class="field-body">overwrites existing files with matching filename.</td>
</tr>
<tr class="field-even field"><th class="field-name">False:</th><td class="field-body">no overwriting of files</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><p class="first last">Normalization given, for example take it from run 18440.</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">processor</span><span class="o">.</span><span class="n">readRun</span><span class="p">(</span><span class="mi">18440</span><span class="p">)</span>
<span class="n">processor</span><span class="o">.</span><span class="n">addBinning</span><span class="p">(</span><span class="s1">&#39;posX&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">processor</span><span class="o">.</span><span class="n">addBinning</span><span class="p">(</span><span class="s1">&#39;posY&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">processor</span><span class="o">.</span><span class="n">addBinning</span><span class="p">(</span><span class="s1">&#39;dldDetectorId&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">processor</span><span class="o">.</span><span class="n">computeBinnedData</span><span class="p">()</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan_to_num</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
<span class="n">norm</span><span class="p">[</span><span class="n">norm</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># 10 or smaller seems to be outside of detector</span>
<span class="n">norm</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">][</span><span class="n">norm</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">]</span><span class="o">/=</span><span class="n">norm</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">][</span><span class="n">norm</span><span class="p">[:,:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">norm</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">][</span><span class="n">norm</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">]</span><span class="o">/=</span><span class="n">norm</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">][</span><span class="n">norm</span><span class="p">[:,:,</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">norm</span><span class="p">[</span><span class="n">norm</span><span class="o">&lt;</span><span class="mf">0.05</span><span class="p">]</span><span class="o">=</span><span class="mf">0.1</span>

<span class="n">Raises</span><span class="p">:</span>
    <span class="ne">Exception</span> <span class="n">Wrong</span> <span class="n">dimension</span><span class="p">:</span> <span class="k">if</span> <span class="n">data</span> <span class="kn">from</span> <span class="nn">binnedData</span> <span class="n">has</span> <span class="n">dimensions</span> <span class="n">different</span> <span class="kn">from</span> <span class="mi">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="processor.DldProcessor.DldProcessor.save_binned">
<code class="descname">save_binned</code><span class="sig-paren">(</span><em>binnedData</em>, <em>namestr</em>, <em>path=None</em>, <em>mode='w'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/processor/DldProcessor.html#DldProcessor.save_binned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#processor.DldProcessor.DldProcessor.save_binned" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a binned numpy array to h5 file. The file includes the axes
(taken from the scheduled bins) and the delay stage histogram, if it exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt>binnedData <span class="classifier-delimiter">:</span> <span class="classifier">numpy array</span></dt>
<dd><p class="first last">Binned multidimensional data.</p>
</dd>
<dt>namestr <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Extra namestring tag in the filename.</p>
</dd>
<dt>path <span class="classifier-delimiter">:</span> <span class="classifier">str | None</span></dt>
<dd><p class="first last">File path.</p>
</dd>
<dt>mode <span class="classifier-delimiter">:</span> <span class="classifier">str | 'w'</span></dt>
<dd><p class="first last">Write mode of h5 file ('w' = write).</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pah.html" class="btn btn-neutral float-right" title="3. Interfacing external pah library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="DldFlashDataframeCreator.html" class="btn btn-neutral" title="1. Dataframe creator class (DldFlashDataframeCreator)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, momentoscope team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.9.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>